# TableQR

QR ì½”ë“œ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë©”ë‰´ ê´€ë¦¬ ì„œë¹„ìŠ¤

<div align="center">
  
  ![Status](https://img.shields.io/badge/Status-Phase%201%20Complete-success)
  ![Next.js](https://img.shields.io/badge/Next.js-14.2-black)
  ![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)
  ![Tailwind](https://img.shields.io/badge/Tailwind-3.4-38bdf8)
  
</div>

---

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”

TableQRì€ ì‹ë‹¹ ë° ì¹´í˜ë¥¼ ìœ„í•œ ë””ì§€í„¸ ë©”ë‰´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. Gmail ê³„ì • í•˜ë‚˜ë¡œ ì—¬ëŸ¬ ë§¤ì¥ì„ ê´€ë¦¬í•˜ê³ , QR ì½”ë“œë¥¼ í†µí•´ ê³ ê°ì—ê²Œ ì‹¤ì‹œê°„ ë©”ë‰´ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” ê°„í¸í•œ ì¸ì¦
- Gmail ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ (Google OAuth)
- ë³„ë„ íšŒì›ê°€ì… ì ˆì°¨ ë¶ˆí•„ìš”

### ğŸª ë©€í‹° ìŠ¤í† ì–´ ê´€ë¦¬
- í•˜ë‚˜ì˜ ê³„ì •ìœ¼ë¡œ ì—¬ëŸ¬ ë§¤ì¥ ê´€ë¦¬
- ë§¤ì¥ë³„ ë…ë¦½ì ì¸ ë©”ë‰´ ë° QR ì½”ë“œ ê´€ë¦¬
- ë§¤ì¥ ì •ë³´ ì„¤ì • (ë¡œê³ , ì˜ì—…ì‹œê°„, ì—°ë½ì²˜, ì£¼ì˜ì‚¬í•­)

### ğŸ“‹ ë©”ë‰´ ê´€ë¦¬
- ë©”ë‰´ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ (CRUD)
- ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°
- ì¹´í…Œê³ ë¦¬ë³„ ë©”ë‰´ ë¶„ë¥˜
- í’ˆì ˆ ìƒíƒœ ê´€ë¦¬

### ğŸ“± QR ì½”ë“œ ìƒì„±
- í…Œì´ë¸”ë³„ ê³ ìœ  QR ì½”ë“œ ìƒì„±
- PNG/SVG í¬ë§· ë‹¤ìš´ë¡œë“œ
- ì¸ì‡„ìš© í…œí”Œë¦¿ ì œê³µ
- QR ìŠ¤ìº” ì‹œ ê³ ê°ìš© ë©”ë‰´ í˜ì´ì§€ë¡œ ì¦‰ì‹œ ì—°ê²°

### ğŸ‘¥ ê³ ê°ìš© ë©”ë‰´ í˜ì´ì§€
- ëª¨ë°”ì¼ ìµœì í™” ë°˜ì‘í˜• ë””ìì¸
- ì¹´í…Œê³ ë¦¬ë³„ ë©”ë‰´ íƒìƒ‰
- ë§¤ì¥ ì •ë³´ ë° ì£¼ì˜ì‚¬í•­ í‘œì‹œ
- ë¡œê·¸ì¸ ë¶ˆí•„ìš”

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-username/TableQR.git
cd TableQR

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•˜ì„¸ìš”.

ìì„¸í•œ ì„¤ì¹˜ ê°€ì´ë“œëŠ” [SETUP.md](./SETUP.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: Next.js 14, React 18, TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: Radix UI, Shadcn/ui
- **Backend**: Next.js API Routes, Supabase
- **Database**: PostgreSQL (Supabase)
- **Auth**: NextAuth.js, Google OAuth 2.0
- **Storage**: Supabase Storage
- **QR Code**: qrcode.js

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
TableQR/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/         # ì¸ì¦ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ (dashboard)/    # ëŒ€ì‹œë³´ë“œ (ì˜ˆì •)
â”‚   â”‚   â””â”€â”€ menu/           # ê³ ê°ìš© ë©”ë‰´ (ì˜ˆì •)
â”‚   â”œâ”€â”€ components/         # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ui/            # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ types/             # TypeScript íƒ€ì…
â”‚   â””â”€â”€ hooks/             # Custom Hooks (ì˜ˆì •)
â”œâ”€â”€ public/                # ì •ì  íŒŒì¼
â”œâ”€â”€ docs/                  # ë¬¸ì„œ (PRD, ë””ìì¸ ëª…ì„¸ ë“±)
â””â”€â”€ ...config files
```

---

## ğŸ“š ë¬¸ì„œ

- [ğŸ“„ PRD (ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ)](./PRD.md)
- [ğŸ¨ UI/UX ë””ìì¸ ëª…ì„¸ì„œ](./UI_Design_Specification.md)
- [ğŸ“‹ ê°œë°œ ê³„íš](./Development_Plan.md)
- [âš™ï¸ ì„¤ì¹˜ ê°€ì´ë“œ](./SETUP.md)
- [ğŸ“Š ê°œë°œ ì§„í–‰ ìƒí™©](./PROGRESS.md)

---

## ğŸ’³ Billing & Subscription (Polar + Supabase)

TableQRëŠ” Polar Checkoutì„ ì‚¬ìš©í•´ ë‹¨ì¼ êµ¬ë… ìƒí’ˆ(7ì¼ ë¬´ë£Œ ì²´í—˜ â†’ ì›” $5)ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤. Google OAuthë§Œ ì§€ì›í•˜ë¯€ë¡œ `google:<sub>` í˜•ì‹ì˜ ì™¸ë¶€ í‚¤ë¡œ ëª¨ë“  ê²°ì œ ë°ì´í„°ë¥¼ ë§¤í•‘í•©ë‹ˆë‹¤.

1. **DB ë§ˆì´ê·¸ë ˆì´ì…˜**  
   `supabase/migrations/005_billing_schema.sql`ì„ ì ìš©í•˜ë©´ ì•„ë˜ ìµœì†Œ ìŠ¤ëƒ…ìƒ· í…Œì´ë¸”ì´ ìƒì„±ë©ë‹ˆë‹¤.
   - `billing_customers(user_ref, polar_customer_id, region)`
   - `subscriptions(user_ref, status, trial_end, current_period_end, product_id, plan_name, updated_at, source)`
   - `billing_events(event_id, event_type, payload)`

2. **í™˜ê²½ ë³€ìˆ˜**  
   ```
   POLAR_ACCESS_TOKEN=...   # checkouts:write, subscriptions:read, customers:read ê¶Œí•œ ê¶Œì¥
   POLAR_ENVIRONMENT=sandbox|production
   NEXT_PUBLIC_POLAR_PRODUCT_ID=...
   POLAR_WEBHOOK_SECRET=...
   NEXT_PUBLIC_APP_URL=https://tableqr.yourdomain.com
   SUPABASE_SERVICE_ROLE_KEY=...   # webhook â†’ DB upsert & ì„œë²„ ì¸¡ ì¡°íšŒì— í•„ìˆ˜
   ```

3. **Checkout ë©”íƒ€ë°ì´í„°**  
   `/api/checkout`ê°€ ìë™ìœ¼ë¡œ `customerExternalId="google:<sub>"`ì™€ `metadata.userRef`ë¥¼ Polarì— ì „ë‹¬í•©ë‹ˆë‹¤. ì´ë©”ì¼/ì´ë¦„ì€ Polarì—ë§Œ ë‚¨ê³  Supabaseì—ëŠ” ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

4. **Webhook êµ¬ì„±**  
   Polar ëŒ€ì‹œë³´ë“œì—ì„œ `POST https://{app-domain}/api/billing/webhook`ìœ¼ë¡œ êµ¬ë… ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•˜ê³ , ë™ì¼í•œ `POLAR_WEBHOOK_SECRET`ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì›¹í›…ì€ ë©±ë“± ì²˜ë¦¬ë˜ë©° `billing_events`ì— ê¸°ë¡ëœ ë’¤ `subscriptions` ìŠ¤ëƒ…ìƒ·ì„ ê°±ì‹ í•©ë‹ˆë‹¤.

5. **êµ¬ë… ê´€ë¦¬ (Customer Portal)**  
   - `/api/billing/portal`ì´ Polar Customer Portal ì„¸ì…˜ì„ ìƒì„±í•´ ê³ ê°ì´ ì¹´ë“œ ë³€ê²½Â·ì·¨ì†ŒÂ·ì¬êµ¬ë…ì„ ì§ì ‘ ì²˜ë¦¬í•©ë‹ˆë‹¤.  
   - ëŒ€ì‹œë³´ë“œ ë°°ë„ˆì™€ CTAëŠ” í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ì—¬ ì·¨ì†Œ/ê²°ì œ ê´€ë¦¬ UXë¥¼ ì œê³µí•©ë‹ˆë‹¤.

6. **ì•± ê°€ë“œ íë¦„**  
   - `/api/subscription`ì´ Supabaseì—ì„œ ìŠ¤ëƒ…ìƒ·ì„ ì½ì–´ ëœë”© CTA/ëŒ€ì‹œë³´ë“œ ì œì•½ì„ ê²°ì •í•©ë‹ˆë‹¤.
   - Trial/Active ìƒíƒœë§Œ ë‹¤ì í¬Â·ê³ ê¸‰ ê¸°ëŠ¥ì´ ì—´ë¦¬ê³ , ê·¸ ì™¸ ìƒíƒœëŠ” 1ê°œ ë§¤ì¥ ì œí•œ + ì—…ì…€ ëª¨ë‹¬ì´ ë…¸ì¶œë©ë‹ˆë‹¤.

ëª¨ë“  êµ¬ë… ë°ì´í„°ëŠ” user_refÂ·ìƒíƒœÂ·ê¸°ê°„ì²˜ëŸ¼ ìµœì†Œí•œì˜ ì •ë³´ë§Œ ì €ì¥í•˜ë¯€ë¡œ GDPR/ë°ì´í„° ì´ì „ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ë©°, ì´ë©”ì¼ ë“± PIIëŠ” Polarì— ë‚¨ê²¨ë‘” ì±„ í•„ìš” ì‹œ APIë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.

---

## ğŸ“ˆ ê°œë°œ ì§„í–‰ ìƒí™©

| Phase | ìƒíƒœ | ì„¤ëª… |
|-------|------|------|
| **Phase 1** | âœ… **ì™„ë£Œ** | í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • |
| Phase 2 | ğŸ“… ì˜ˆì • | ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶• |
| Phase 3 | ğŸ“… ì˜ˆì • | ì¸ì¦ ì‹œìŠ¤í…œ (Google OAuth) |
| Phase 4 | ğŸ“… ì˜ˆì • | ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° êµ¬ì¶• |
| Phase 5 | ğŸ“… ì˜ˆì • | ë©€í‹° ìŠ¤í† ì–´ ê´€ë¦¬ ê¸°ëŠ¥ |
| Phase 6-11 | ğŸ“… ì˜ˆì • | ë©”ë‰´ ê´€ë¦¬, QR ì½”ë“œ, ê³ ê° í˜ì´ì§€ ë“± |

**ì „ì²´ ì§„í–‰ë¥ **: 20% (Phase 1 ì™„ë£Œ)

ìì„¸í•œ ì§„í–‰ ìƒí™©ì€ [PROGRESS.md](./PROGRESS.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ¯ MVP ê¸°ëŠ¥ (ê°œë°œ ì˜ˆì •)

### Phase 1 âœ… (ì™„ë£Œ)
- [x] Next.js í”„ë¡œì íŠ¸ ì„¤ì •
- [x] Tailwind CSS ì„¤ì •
- [x] ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
- [x] ë¡œê·¸ì¸ í˜ì´ì§€ UI

### Phase 2-5 (ì§„í–‰ ì˜ˆì •)
- [ ] Google OAuth ë¡œê·¸ì¸
- [ ] ê°€ê²Œ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ
- [ ] ë©”ë‰´ CRUD
- [ ] QR ì½”ë“œ ìƒì„±
- [ ] ê³ ê°ìš© ë©”ë‰´ í˜ì´ì§€

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ì´ í”„ë¡œì íŠ¸ëŠ” í˜„ì¬ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤. ê¸°ì—¬ë¥¼ ì›í•˜ì‹œë©´:

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì¶”í›„ ê²°ì •

---

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ Issuesë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.

---

## ğŸŒŸ ìŠ¤í¬ë¦°ìƒ· (ì˜ˆì •)

ê°œë°œ ì™„ë£Œ í›„ ì¶”ê°€ ì˜ˆì •

---

**ê°œë°œ ìƒíƒœ**: Phase 1 ì™„ë£Œ (2025-10-12)  
**ë‹¤ìŒ ë‹¨ê³„**: Phase 2 - ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•

---

<div align="center">
  <sub>Built with â¤ï¸ using Next.js and Tailwind CSS</sub>
</div>
